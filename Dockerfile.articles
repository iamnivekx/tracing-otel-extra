# Stage 4: Runtime for articles service
FROM debian:bookworm-slim AS runtime

RUN apt-get update && apt-get install -y --no-install-recommends \
	ca-certificates \
	openssl \
	libssl3 \ 
	&& rm -rf /var/lib/apt/lists/* /var/cache/apt/*

# Copy the built binary from the builder stage
COPY --from=builder /app/target/release/articles-service /usr/local/bin/articles-service

# Expose the application port
EXPOSE 8000

# Set entrypoint
ENTRYPOINT ["articles-service"]
